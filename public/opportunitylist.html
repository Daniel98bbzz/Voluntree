<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volunteer Opportunity Card</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="main-header">
        <button class="return-icon">
            <img src = "svgs/return-back-svgrepo-com.svg" class = "return" alt = "return">
        </button> <!-- Placeholder for menu icon -->
        <img src="logo.PNG" alt="Voluntree Logo" class="header-logo">
        <button class="notifications-icon">
            <img class = "notification" src = "svgs/alarm-alert-bell-notification-svgrepo-com.svg" alt = "Notification">
        </button>
        <button class="chat-icon">
            <img class = "chat" src = "svgs/chat-communication-message-talk-svgrepo-com.svg" alt = "chat">
        </button>
    </header>
    <div class="wrapper">
        <article class="volunteer-card">
            <header class="volunteer-card-header">
                <img src="yo.PNG" alt="Beach with turtle" class="volunteer-header-image">
                <button class="heart-button">♥</button>
                <!-- Badges could be added here -->
                <div class="badge high-demand">In High Demand</div>
                <div class="badge location">Quepos, Costa Rica</div>
            </header>
            <div class="volunteer-content">
                <h2 class="volunteer-title">Sea Turtle Conservation Ambassador</h2>
                <div class="volunteer-rating">
                    <span class="rating">4.4</span>
                    <img class = "star" src = "star.svg">
                    <span class="total-ratings">(201)</span>
                    <!-- Icons for the rating like stars could be added here -->
                </div>
                <div class="volunteer-info">
                    <span class="volunteer-price">269€ per week</span>
                    <span class="volunteer-duration">2 - 30 weeks</span>
                    <span class="volunteer-age">Age 17+</span>
                </div>
                <p class="volunteer-description">
                    Volunteer and save turtles, make a difference and meet one of the most beautiful beaches in the world! Join us in Pacific Costa Rica!
                </p>
            </div>
            <div class="volunteer-footer">
                <div class="volunteer-services">
                    <div class="service">
                        <img class="service-icon" src="svgs/car.svg" alt="Airport Taxi Icon">
                        <span>Airport Taxi</span>
                    </div>
                    <div class="service">
                        <img class="service-icon" src="svgs/housing.svg" alt="Housing Icon">
                        <span>Housing</span>
                    </div>
                    <div class="service">
                        <img class="service-icon" src="svgs/food.svg" alt="Food Icon">
                        <span>Food</span>  
                    </div>
                </div>
                <button class="details-button">Details</button>
            </div>
        </article>
        <article class="volunteer-card">
            <header class="volunteer-card-header">
                <img src="yo.PNG" alt="Beach with turtle" class="volunteer-header-image">
                <button class="heart-button">♥</button>
                <!-- Badges could be added here -->
                <div class="badge high-demand">In High Demand</div>
                <div class="badge location">Quepos, Costa Rica</div>
            </header>
            <div class="volunteer-content">
                <h2 class="volunteer-title">Sea Turtle Conservation Ambassador</h2>
                <div class="volunteer-rating">
                    <span class="rating">4.4</span>
                    <img class = "star" src = "star.svg">
                    <span class="total-ratings">(201)</span>
                    <!-- Icons for the rating like stars could be added here -->
                </div>
                <div class="volunteer-info">
                    <span class="volunteer-price">269€ per week</span>
                    <span class="volunteer-duration">2 - 30 weeks</span>
                    <span class="volunteer-age">Age 17+</span>
                </div>
                <p class="volunteer-description">
                    Volunteer and save turtles, make a difference and meet one of the most beautiful beaches in the world! Join us in Pacific Costa Rica!
                </p>
            </div>
            <div class="volunteer-footer">
                <div class="volunteer-services">
                    <div class="service">
                        <img class="service-icon" src="svgs/car.svg" alt="Airport Taxi Icon">
                        <span>Airport Taxi</span>
                    </div>
                    <div class="service">
                        <img class="service-icon" src="svgs/housing.svg" alt="Housing Icon">
                        <span>Housing</span>
                    </div>
                    <div class="service">
                        <img class="service-icon" src="svgs/food.svg" alt="Food Icon">
                        <span>Food</span>  
                    </div>
                </div>
                <button class="details-button">Details</button>
            </div>
        </article>
    </div>
    
    <footer class="footer-menu">
        <nav class="footer-nav">
            <a href="#" class="footer-item">
                <!-- Replace with your own SVG or image icon -->
                <img src="svgs/home-svgrepo-com.svg" alt="Home" class="footer-icon">
                <span>Home</span>
            </a>
            <a href="#" class="footer-item">
                <img src="svgs/search-svgrepo-com.svg" alt="Search" class="footer-icon">
                <span>Search</span>
            </a>
            <a href="#" class="footer-item">
                <img src="svgs/book-svgrepo-com.svg" alt="Applications" class="footer-icon">
                <span>Applications</span>
            </a>
            <a href="#" class="footer-item">
                <img src="svgs/bookmark-svgrepo-com.svg" alt="Opportunities" class="footer-icon">
                <span>Opportunities</span>
            </a>
            <a href="#" class="footer-item">
                <img src="svgs/heart-svgrepo-com.svg" alt="Favorite" class="footer-icon">
                <span>Favorite</span>
            </a>
            <a href="#" class="footer-item">
                <img src="svgs/profile-svgrepo-com.svg" alt="My Profile" class="footer-icon">
                <span>Profile</span>
            </a>
        </nav>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/api/opportunities')
                .then(response => response.json())
                .then(data => {
                    const wrapper = document.querySelector('.wrapper');
                    wrapper.innerHTML = ''; // Clear existing content
                    data.forEach(opportunity => {
                        const article = document.createElement('article');
                        article.className = 'volunteer-card';
                        // Populate article with opportunity data
                        article.innerHTML = `
                            <header class="volunteer-card-header">
                                <img src="${opportunity.header_image}" alt="Header Image" class="volunteer-header-image">
                                <button class="heart-button">♥</button>
                                ${opportunity.high_demand ? '<div class="badge high-demand">In High Demand</div>' : ''}
                                <div class="badge location">${opportunity.location}</div>
                            </header>
                            <div class="volunteer-content">
                                <h2 class="volunteer-title">${opportunity.title}</h2>
                                <div class="volunteer-rating">
                                    <span class="rating">${opportunity.rating.score}</span>
                                    <img class="star" src="star.svg" alt="star">
                                    <span class="total-ratings">(${opportunity.rating.total_reviews})</span>
                                </div>
                                <div class="volunteer-info">
                                    <span class="volunteer-price">${opportunity.cost.currency} ${opportunity.cost.price_per_week} per week</span>
                                    <span class="volunteer-duration">${opportunity.cost.duration_weeks.min}-${opportunity.cost.duration_weeks.max} weeks</span>
                                    <span class="volunteer-age">Age ${opportunity.minimum_age}+</span>
                                </div>
                                <p class="volunteer-description">${opportunity.description}</p>
                            </div>
                            <div class="volunteer-footer">
                                <div class="volunteer-services">
                                    ${opportunity.services.map(service => `
                                        <div class="service">
                                            <img class="service-icon" src="${service.icon}" alt="${service.name} Icon">
                                            <span>${service.name}</span>
                                        </div>
                                    `).join('')}
                                </div>
                                <button class="details-button">Details</button>
                            </div>
`;

                        wrapper.appendChild(article);
                    });
                })
                .catch(error => console.error('Error:', error));
        });
        </script>    
</body>
</html>
